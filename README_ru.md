<!-- markdownlint-disable MD022 MD012 MD032 MD031 MD047-->

# Шаблон - структура данных в двоичном файле

## Обзор
В этом проекте реализован **двусвязный список**, хранящийся в двоичном файле, обеспечивающий постоянное хранение данных различных типов (`int`, `std::string` и пользовательская структура `Person`). В реализации используются шаблоны C++ для поддержки универсальных типов, а также специализированная версия для `std::string` для обработки данных переменной длины. Программа включает интерактивное консольное меню для выполнения таких операций, как добавление, удаление, сортировка и перебор элементов.

## Особенности

- **Общий шаблон (`BinaryList<T>`)**: Поддерживает типы модулей фиксированного размера (например, `int`, `Person`) с прямыми файловыми операциями.
- **Специализированный `BinaryList<std::string>`**: Обрабатывает строки переменной длины путем сериализации длины и данных.
- **Файловое хранилище**: Данные хранятся в двоичном файле, сохраняя список между запусками программы.
- **Операции**:
  - `push_back`: Добавить элемент в конец.
  - `insert(index)`: Вставить элемент по указанному индексу.
  - `erase(index)`: Удалить элемент по указанному индексу.
  - `get(index)`: Получить элемент по индексу.
  - `update(index)`: Обновить элемент по указанному индексу.
  - `pop_back`: Удалить последний элемент.
  - `pop_front`: Удалить первый элемент.
  - `clear`: Очистить весь список и сбросить файл.
  - `print`: Вывести все элементы.
  - `size`: Получить количество элементов.
  - `sort`: Отсортировать список (пузырьковая сортировка для POD, на основе вектора для строк).
  - `iterator`: Последовательный доступ к элементам через итератор.

- **Интерактивное меню**: Консольный интерфейс для управления списками `int`, `std::string` или `Person`.

## Структура файла
- **Заголовок (`FileHeader`)**: Хранит положение первого узла (`head`), последнего узла (`tail`) и количество узлов (`size`).
- **Формат узла** (для типов POD):
  - `[int prev][int next][T данных]`
- **Формат узла для `std::string`**:
  - `[int prev][int next][int length][символические данные[длина]]`
- **Структура персоны**: Тип POD с именем фиксированного размера (массив символов, 40 байт) и возрастом (int), поддерживающий лексикографическую сортировку по имени и возрасту.

## Требования
- **Компилятор C++**: C++11 или новее (используются `std::vector`, `std::string`, `std::sort`).
- **Стандартные библиотеки**: `<iostream>`, `<fstream>`, `<string>`, `<cstring>`, `<cstdio>`, `<cstdlib>`, `<vector>`, `<algorithm>`.
- **Операционная система**: Windows (используются `system("cls")` и `system("pause")`). Для Unix-подобных систем замените на `system("clear")` или удалите.
- **Доступ к файловой системе**: Программа читает/записывает бинарные файлы (например, `intList.bin`, `strList.bin`, `personList.bin`).

## Инструкция по сборке
1. Скомпилируйте код с помощью компилятора C++:
   ```bash
   g++ -o binary_list main.cpp
   ```
2. Запустите исполняемый файл:
   ```bash
   ./binary_list
   ```

## Использование
1. Запустите программу, чтобы открыть главное меню.
2. Выберите тип данных (`int`, `string` или `Person`).
3. Введите имя двоичного файла (например, `list.bin`).
4. Используйте подменю для выполнения операций со списком.
5. Проверка правильности ввода обеспечивает неотрицательный возраст для `Person` и допустимых индексов.
6. Строки не должны содержать пробелов (ограничение ввода `std::cin`).

## Примечания
- **Сортировка**:
  - Для POD-типов (`int`, `Person`) пузырьковая сортировка выполняется непосредственно в файле.
  - Для `std::string` сортировка выполняется в памяти с использованием `std::vector` и `std::sort` для обработки строк переменной длины.
- **Сохранение**: данные остаются в двоичном файле между запусками, если они не очищены.
- **Ограничения**:
  - Ввод `std::string` через `std::cin` не поддерживает пробелы.
  - При работе с файлами предполагается, что у программы есть разрешения на запись.
- **Переносимость**: Замените специфичные для Windows "система ("cls")" и "система ("пауза")" для обеспечения кросс-платформенной совместимости.

## Пример
```bash
==== Главное Меню ====
1. int
2. string
3. Person
0. Выход
======================
Ваш выбор: 3
Введите имя файла (например, personList.bin): personList.bin

=== Меню (Person) ===
1. push_back
...
Ваш выбор: 1
Введите имя (без пробелов) и возраст: Alice 25
```